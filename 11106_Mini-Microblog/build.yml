version: '2.4'

services:
  debian:
    build:
      context: ../00000_BASE/00000_debian
      dockerfile: Dockerfile
    image: dujunio/debian

  sqlite:
    depends_on:
      - debian
    build:
      context: ../00000_BASE/02040_sqlite_3
      dockerfile: Dockerfile
    image: dujunio/sqlite:3

  php:
    depends_on:
      - debian
    build:
      context: ../00000_BASE/01004_php_8.1
      dockerfile: Dockerfile
    image: dujunio/php:8.1

  nginx:
    depends_on:
      - debian
    build:
      context: ../00000_BASE/03000_nginx
      dockerfile: Dockerfile
    image: dujunio/nginx

  mini-microblog:
    build:
      context: ./
      dockerfile: Dockerfile
    image: dujunio/mini-microblog
